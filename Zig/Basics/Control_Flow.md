# Zig ä¸­çš„æ§åˆ¶æµ (Control Flow)

**æ§åˆ¶æµ (Control Flow)**ï¼Œå°±æ˜¯æ€ä¹ˆæ§åˆ¶ä½ çš„ Zig ä»£ç **ä¸**æ€»æ˜¯ä»ä¸Šåˆ°ä¸‹ä¸€è¡Œæ¥ä¸€è¡Œåœ°æ‰§è¡Œã€‚æƒ³è±¡ä¸€ä¸‹ä½ åœ¨å¼€è½¦ï¼šæœ‰æ—¶å€™éœ€è¦æ ¹æ®çº¢ç»¿ç¯å†³å®šåœè¿˜æ˜¯èµ°ï¼ˆæ¡ä»¶åˆ†æ”¯ï¼‰ï¼Œæœ‰æ—¶å€™éœ€è¦åœ¨ç¯å²›é‡Œç»•åœˆç›´åˆ°æ‰¾åˆ°æ­£ç¡®çš„å‡ºå£ï¼ˆå¾ªç¯ï¼‰ï¼Œæœ‰æ—¶å€™éœ€è¦æ ¹æ®è·¯æ ‡é€‰æ‹©ä¸åŒçš„é“è·¯ï¼ˆæ¨¡å¼åŒ¹é…ï¼‰ã€‚

Zig æä¾›äº†å‡ ç§å¼ºå¤§çš„æ§åˆ¶æµ"è·¯æ ‡"ï¼š`if` è¡¨è¾¾å¼ã€`while` å¾ªç¯ã€`for` å¾ªç¯å’Œ `switch` è¡¨è¾¾å¼ã€‚æœ€æ£’çš„æ˜¯ï¼Œåœ¨ Zig ä¸­ï¼Œè¿™äº›æ§åˆ¶æµç»“æ„éƒ½æ˜¯**è¡¨è¾¾å¼**ï¼Œæ„å‘³ç€å®ƒä»¬éƒ½èƒ½äº§ç”Ÿå€¼ï¼

## 1. `if` è¡¨è¾¾å¼ï¼šäººç”Ÿçš„å²”è·¯å£

`if` å°±åƒäººç”Ÿä¸­çš„å²”è·¯å£ï¼Œä½ éœ€è¦æ ¹æ®å½“å‰çš„æƒ…å†µï¼ˆæ¡ä»¶ï¼‰æ¥å†³å®šèµ°å“ªæ¡è·¯ã€‚åœ¨ Zig ä¸­ï¼Œ`if` ä¸ä»…èƒ½æ§åˆ¶ç¨‹åºæµç¨‹ï¼Œè¿˜èƒ½äº§ç”Ÿå€¼ï¼Œè¿™è®©å®ƒæ¯”ä¼ ç»Ÿçš„ if è¯­å¥æ›´åŠ å¼ºå¤§ã€‚

### åŸºæœ¬ç”¨æ³•ï¼šåšå†³å®š

```zig
const std = @import("std");

pub fn main() !void {
    const temperature = 25; // ä»Šå¤©çš„æ¸©åº¦

    // æ ¹æ®æ¸©åº¦å†³å®šç©¿ä»€ä¹ˆ
    if (temperature > 30) {
        std.debug.print("å¤ªçƒ­äº†ï¼ç©¿çŸ­è¢–å§\n", .{});
    } else if (temperature > 20) {
        std.debug.print("å¤©æ°”ä¸é”™ï¼Œç©¿é•¿è¢–å°±è¡Œ\n", .{});
    } else if (temperature > 10) {
        std.debug.print("æœ‰ç‚¹å‡‰ï¼ŒåŠ ä»¶å¤–å¥—\n", .{});
    } else {
        std.debug.print("å¤ªå†·äº†ï¼ç©¿ç¾½ç»’æœï¼\n", .{});
    }
}
```

**è¿è¡Œç»“æœï¼š**
```
å¤©æ°”ä¸é”™ï¼Œç©¿é•¿è¢–å°±è¡Œ
```

### `if` ä½œä¸ºè¡¨è¾¾å¼ï¼šä¸€çŸ³äºŒé¸Ÿ

è¿™æ˜¯ Zig æœ€é…·çš„ç‰¹æ€§ä¹‹ä¸€ï¼`if` å¯ä»¥ç›´æ¥äº§ç”Ÿä¸€ä¸ªå€¼ï¼Œå°±åƒä¸€ä¸ªä¼šæ€è€ƒçš„è®¡ç®—å™¨ï¼š

```zig
const std = @import("std");

pub fn main() !void {
    const age = 17;
    
    // if è¡¨è¾¾å¼ç›´æ¥äº§ç”Ÿä¸€ä¸ªå­—ç¬¦ä¸²å€¼
    const status = if (age >= 18) "æˆå¹´äºº" else "æœªæˆå¹´äºº";
    std.debug.print("ä½ æ˜¯ï¼š{s}\n", .{status});
    
    const score = 85;
    // æ›´å¤æ‚çš„ if è¡¨è¾¾å¼
    const grade = if (score >= 90) 
        "ä¼˜ç§€" 
    else if (score >= 80) 
        "è‰¯å¥½" 
    else if (score >= 60) 
        "åŠæ ¼" 
    else 
        "ä¸åŠæ ¼";
    
    std.debug.print("æˆç»©ç­‰çº§ï¼š{s}\n", .{grade});
    
    // ç”šè‡³å¯ä»¥åœ¨ if è¡¨è¾¾å¼ä¸­è¿›è¡Œå¤æ‚è®¡ç®—
    const x = 10;
    const y = 20;
    const result = if (x > y) blk: {
        std.debug.print("x æ›´å¤§ï¼Œè¿›è¡Œç‰¹æ®Šè®¡ç®—\n", .{});
        break :blk x * 2 + y;
    } else blk: {
        std.debug.print("y æ›´å¤§æˆ–ç›¸ç­‰ï¼Œè¿›è¡Œæ™®é€šè®¡ç®—\n", .{});
        break :blk x + y * 2;
    };
    
    std.debug.print("è®¡ç®—ç»“æœï¼š{d}\n", .{result});
}
```

**è¿è¡Œç»“æœï¼š**
```
ä½ æ˜¯ï¼šæœªæˆå¹´äºº
æˆç»©ç­‰çº§ï¼šè‰¯å¥½
y æ›´å¤§æˆ–ç›¸ç­‰ï¼Œè¿›è¡Œæ™®é€šè®¡ç®—
è®¡ç®—ç»“æœï¼š50
```

### æ¡ä»¶å¿…é¡»æ˜ç¡®

Zig è¦æ±‚ `if` çš„æ¡ä»¶å¿…é¡»æ˜¯æ˜ç¡®çš„å¸ƒå°”å€¼ï¼Œä¸åƒ C è¯­è¨€é‚£æ ·å¯ä»¥ç”¨æ•°å­—ï¼š

```zig
const std = @import("std");

pub fn main() !void {
    const number = 5;
    
    // âŒ é”™è¯¯ï¼šä¸èƒ½ç›´æ¥ç”¨æ•°å­—ä½œä¸ºæ¡ä»¶
    // if (number) { ... }
    
    // âœ… æ­£ç¡®ï¼šæ˜ç¡®åœ°æ¯”è¾ƒ
    if (number != 0) {
        std.debug.print("æ•°å­—ä¸ä¸ºé›¶\n", .{});
    }
    
    // âœ… æ­£ç¡®ï¼šä½¿ç”¨å¸ƒå°”è¡¨è¾¾å¼
    if (number > 0 and number < 10) {
        std.debug.print("æ•°å­—åœ¨ 1-9 ä¹‹é—´\n", .{});
    }
}
```

## 2. `while` å¾ªç¯ï¼šåšæŒå°±æ˜¯èƒœåˆ©

`while` å¾ªç¯å°±åƒä¸€ä¸ªæ‰§ç€çš„äººï¼Œåªè¦æ¡ä»¶æ»¡è¶³ï¼Œå°±ä¼šä¸€ç›´é‡å¤åšåŒä¸€ä»¶äº‹ã€‚æƒ³è±¡ä½ åœ¨ç­‰å…¬äº¤è½¦ï¼šåªè¦è½¦è¿˜æ²¡æ¥ï¼Œä½ å°±ä¸€ç›´ç­‰ç€ã€‚

### åŸºæœ¬ while å¾ªç¯

```zig
const std = @import("std");

pub fn main() !void {
    var countdown = 5;
    
    std.debug.print("ç«ç®­å‘å°„å€’è®¡æ—¶ï¼š\n", .{});
    while (countdown > 0) {
        std.debug.print("{d}...\n", .{countdown});
        countdown -= 1;
        
        // æ¨¡æ‹Ÿç­‰å¾…ä¸€ç§’ï¼ˆå®é™…ä¸Šæ˜¯ç«‹å³æ‰§è¡Œï¼‰
        std.debug.print("ï¼ˆç­‰å¾…ä¸­...ï¼‰\n", .{});
    }
    std.debug.print("ğŸš€ å‘å°„ï¼\n", .{});
}
```

### while å¾ªç¯çš„ç‹¬ç‰¹è¯­æ³•

Zig çš„ `while` å¾ªç¯æœ‰ä¸€ä¸ªå¾ˆè´´å¿ƒçš„ç‰¹æ€§ï¼Œå¯ä»¥åœ¨æ¯æ¬¡å¾ªç¯åè‡ªåŠ¨æ‰§è¡Œä¸€äº›ä»£ç ï¼š

```zig
const std = @import("std");

pub fn main() !void {
    var i: u32 = 0;
    var sum: u32 = 0;
    
    // è®¡ç®— 1 åˆ° 10 çš„å’Œ
    // æ³¨æ„è¿™ä¸ªç‰¹æ®Šçš„è¯­æ³•ï¼šwhile (æ¡ä»¶) : (æ¯æ¬¡å¾ªç¯åæ‰§è¡Œçš„ä»£ç )
    while (i < 10) : (i += 1) {
        sum += i + 1; // i ä» 0 å¼€å§‹ï¼Œæ‰€ä»¥è¦ +1
        std.debug.print("ç¬¬ {d} æ¬¡å¾ªç¯ï¼Œå½“å‰å’Œä¸ºï¼š{d}\n", .{i + 1, sum});
    }
    
    std.debug.print("æœ€ç»ˆç»“æœï¼š1 åˆ° 10 çš„å’Œæ˜¯ {d}\n", .{sum});
}
```

### while å¾ªç¯çš„ else åˆ†æ”¯ï¼šå–„å§‹å–„ç»ˆ

è¿™æ˜¯ Zig çš„ä¸€ä¸ªç‹¬ç‰¹ç‰¹æ€§ï¼`while` å¾ªç¯å¯ä»¥æœ‰ä¸€ä¸ª `else` åˆ†æ”¯ï¼Œå½“å¾ªç¯**æ­£å¸¸ç»“æŸ**ï¼ˆä¸æ˜¯è¢« `break` ä¸­æ–­ï¼‰æ—¶æ‰§è¡Œï¼š

```zig
const std = @import("std");

pub fn main() !void {
    // ç¤ºä¾‹1ï¼šæ­£å¸¸ç»“æŸçš„å¾ªç¯
    var attempts = 0;
    const max_attempts = 3;
    
    std.debug.print("å°è¯•è¿æ¥æœåŠ¡å™¨...\n", .{});
    while (attempts < max_attempts) : (attempts += 1) {
        std.debug.print("ç¬¬ {d} æ¬¡å°è¯•\n", .{attempts + 1});
        
        // æ¨¡æ‹Ÿè¿æ¥å¤±è´¥
        if (attempts == 2) {
            std.debug.print("è¿æ¥æˆåŠŸï¼\n", .{});
            break; // æå‰è·³å‡ºï¼Œelse ä¸ä¼šæ‰§è¡Œ
        }
    } else {
        // åªæœ‰å½“å¾ªç¯æ­£å¸¸ç»“æŸï¼ˆattempts >= max_attemptsï¼‰æ—¶æ‰æ‰§è¡Œ
        std.debug.print("æ‰€æœ‰å°è¯•éƒ½å¤±è´¥äº†ï¼Œè¿æ¥è¶…æ—¶\n", .{});
    }
    
    std.debug.print("---åˆ†å‰²çº¿---\n", .{});
    
    // ç¤ºä¾‹2ï¼šè®©å¾ªç¯æ­£å¸¸ç»“æŸ
    var count: u32 = 0;
    while (count < 3) : (count += 1) {
        std.debug.print("è®¡æ•°ï¼š{d}\n", .{count});
    } else {
        std.debug.print("è®¡æ•°å®Œæˆï¼\n", .{});
    }
}
```

**è¿è¡Œç»“æœï¼š**
```
å°è¯•è¿æ¥æœåŠ¡å™¨...
ç¬¬ 1 æ¬¡å°è¯•
ç¬¬ 2 æ¬¡å°è¯•
ç¬¬ 3 æ¬¡å°è¯•
è¿æ¥æˆåŠŸï¼
---åˆ†å‰²çº¿---
è®¡æ•°ï¼š0
è®¡æ•°ï¼š1
è®¡æ•°ï¼š2
è®¡æ•°å®Œæˆï¼
```

## 3. `for` å¾ªç¯ï¼šéå†çš„è‰ºæœ¯

`for` å¾ªç¯å°±åƒä¸€ä¸ªå‹¤åŠ³çš„é‚®é€’å‘˜ï¼Œä¼šæŒ¨å®¶æŒ¨æˆ·åœ°è®¿é—®æ¯ä¸€ä¸ªåœ°å€ï¼ˆå…ƒç´ ï¼‰ã€‚åœ¨ Zig ä¸­ï¼Œ`for` å¾ªç¯ä¸“é—¨ç”¨æ¥éå†å„ç§é›†åˆï¼Œæ¯”å¦‚æ•°ç»„ã€åˆ‡ç‰‡ã€å­—ç¬¦ä¸²ç­‰ã€‚

### éå†æ•°ç»„å’Œåˆ‡ç‰‡

```zig
const std = @import("std");

pub fn main() !void {
    // éå†æ•°ç»„
    const fruits = [_][]const u8{ "è‹¹æœ", "é¦™è•‰", "æ©™å­", "è‘¡è„" };
    
    std.debug.print("ä»Šå¤©çš„æ°´æœæ¸…å•ï¼š\n", .{});
    for (fruits) |fruit| {
        std.debug.print("- {s}\n", .{fruit});
    }
    
    std.debug.print("\nå¸¦ç´¢å¼•çš„éå†ï¼š\n", .{});
    for (fruits, 0..) |fruit, index| {
        std.debug.print("{d}. {s}\n", .{index + 1, fruit});
    }
    
    // éå†å­—ç¬¦ä¸²ï¼ˆå­—ç¬¦ä¸²åœ¨ Zig ä¸­æ˜¯å­—èŠ‚æ•°ç»„ï¼‰
    const message = "Hello";
    std.debug.print("\né€å­—ç¬¦æ‰“å° '{s}'ï¼š\n", .{message});
    for (message) |char| {
        std.debug.print("'{c}' ", .{char});
    }
    std.debug.print("\n", .{});
}
```

**è¿è¡Œç»“æœï¼š**
```
ä»Šå¤©çš„æ°´æœæ¸…å•ï¼š
- è‹¹æœ
- é¦™è•‰
- æ©™å­
- è‘¡è„

å¸¦ç´¢å¼•çš„éå†ï¼š
1. è‹¹æœ
2. é¦™è•‰
3. æ©™å­
4. è‘¡è„

é€å­—ç¬¦æ‰“å° 'Hello'ï¼š
'H' 'e' 'l' 'l' 'o' 
```

### for å¾ªç¯çš„ else åˆ†æ”¯

å’Œ `while` ä¸€æ ·ï¼Œ`for` å¾ªç¯ä¹Ÿå¯ä»¥æœ‰ `else` åˆ†æ”¯ï¼š

```zig
const std = @import("std");

pub fn main() !void {
    const numbers = [_]i32{ 2, 4, 6, 8, 10 };
    
    // å¯»æ‰¾å¥‡æ•°
    std.debug.print("åœ¨æ•°ç»„ä¸­å¯»æ‰¾å¥‡æ•°...\n", .{});
    for (numbers) |num| {
        if (num % 2 == 1) {
            std.debug.print("æ‰¾åˆ°å¥‡æ•°ï¼š{d}\n", .{num});
            break; // æ‰¾åˆ°å°±è·³å‡ºï¼Œelse ä¸ä¼šæ‰§è¡Œ
        }
        std.debug.print("æ£€æŸ¥ {d}ï¼šæ˜¯å¶æ•°\n", .{num});
    } else {
        // åªæœ‰éå†å®Œæ‰€æœ‰å…ƒç´ éƒ½æ²¡æœ‰ break æ—¶æ‰æ‰§è¡Œ
        std.debug.print("æ²¡æœ‰æ‰¾åˆ°å¥‡æ•°ï¼Œæ‰€æœ‰æ•°å­—éƒ½æ˜¯å¶æ•°\n", .{});
    }
}
```

### å¤šç»´æ•°ç»„éå†

```zig
const std = @import("std");

pub fn main() !void {
    // äºŒç»´æ•°ç»„ï¼šä¸€ä¸ªç®€å•çš„æ¸¸æˆåœ°å›¾
    const game_map = [_][4]u8{
        [_]u8{ 0, 1, 0, 0 }, // 0 = ç©ºåœ°ï¼Œ1 = å¢™å£ï¼Œ2 = å®è—
        [_]u8{ 0, 1, 2, 0 },
        [_]u8{ 0, 0, 0, 0 },
    };
    
    std.debug.print("æ¸¸æˆåœ°å›¾ï¼š\n", .{});
    for (game_map, 0..) |row, y| {
        std.debug.print("ç¬¬ {d} è¡Œï¼š", .{y});
        for (row, 0..) |cell, x| {
            const symbol = switch (cell) {
                0 => "Â·", // ç©ºåœ°
                1 => "â–ˆ", // å¢™å£
                2 => "ğŸ’", // å®è—
                else => "?",
            };
            std.debug.print("{s} ", .{symbol});
            
            if (cell == 2) {
                std.debug.print("ï¼ˆåœ¨ä½ç½® ({d}, {d}) å‘ç°å®è—ï¼ï¼‰", .{x, y});
            }
        }
        std.debug.print("\n", .{});
    }
}
```

## 4. `switch` è¡¨è¾¾å¼ï¼šæ™ºèƒ½çš„é€‰æ‹©å™¨

`switch` å°±åƒä¸€ä¸ªè¶…çº§æ™ºèƒ½çš„åˆ†æ‹£æœºå™¨ï¼Œèƒ½å¤Ÿæ ¹æ®ä¸åŒçš„å€¼ç²¾ç¡®åœ°é€‰æ‹©å¯¹åº”çš„å¤„ç†æ–¹å¼ã€‚ä¸å…¶ä»–è¯­è¨€çš„ switch ä¸åŒï¼ŒZig çš„ `switch` å¿…é¡»å¤„ç†æ‰€æœ‰å¯èƒ½çš„æƒ…å†µï¼Œè¿™è®©ä½ çš„ä»£ç æ›´åŠ å®‰å…¨å¯é ã€‚

### åŸºæœ¬ switch ç”¨æ³•

```zig
const std = @import("std");

pub fn main() !void {
    const day_of_week = 3; // å‡è®¾ 1=å‘¨ä¸€, 2=å‘¨äºŒ, ..., 7=å‘¨æ—¥
    
    // switch ä½œä¸ºè¯­å¥ä½¿ç”¨
    switch (day_of_week) {
        1 => std.debug.print("å‘¨ä¸€ï¼šæ–°çš„ä¸€å‘¨å¼€å§‹äº†ï¼\n", .{}),
        2 => std.debug.print("å‘¨äºŒï¼šç»§ç»­åŠªåŠ›å·¥ä½œ\n", .{}),
        3 => std.debug.print("å‘¨ä¸‰ï¼šä¸€å‘¨è¿‡åŠäº†\n", .{}),
        4 => std.debug.print("å‘¨å››ï¼šå¿«åˆ°å‘¨æœ«äº†\n", .{}),
        5 => std.debug.print("å‘¨äº”ï¼šTGIFï¼\n", .{}),
        6, 7 => std.debug.print("å‘¨æœ«ï¼šä¼‘æ¯æ—¶é—´ï¼\n", .{}), // å¤šä¸ªå€¼ç”¨é€—å·åˆ†éš”
        else => std.debug.print("æ— æ•ˆçš„æ—¥æœŸ\n", .{}),
    }
    
    // switch ä½œä¸ºè¡¨è¾¾å¼ä½¿ç”¨
    const mood = switch (day_of_week) {
        1 => "ğŸ˜´", // å‘¨ä¸€ç»¼åˆç—‡
        2, 3, 4 => "ğŸ˜", // å¹³å¸¸å¿ƒ
        5 => "ğŸ˜Š", // å¿«ä¹çš„å‘¨äº”
        6, 7 => "ğŸ‰", // å‘¨æœ«ç‹‚æ¬¢
        else => "ğŸ¤”", // å›°æƒ‘
    };
    
    std.debug.print("ä»Šå¤©çš„å¿ƒæƒ…ï¼š{s}\n", .{mood});
}
```

### èŒƒå›´åŒ¹é…ï¼šå¤„ç†è¿ç»­å€¼

```zig
const std = @import("std");

pub fn main() !void {
    const score = 87;
    
    // ä½¿ç”¨èŒƒå›´åŒ¹é…
    const grade = switch (score) {
        90...100 => "A", // 90 åˆ° 100ï¼ˆåŒ…å«ï¼‰
        80...89 => "B",  // 80 åˆ° 89ï¼ˆåŒ…å«ï¼‰
        70...79 => "C",
        60...69 => "D",
        0...59 => "F",
        else => "æ— æ•ˆåˆ†æ•°", // å¤„ç†è´Ÿæ•°æˆ–è¶…è¿‡100çš„æƒ…å†µ
    };
    
    std.debug.print("åˆ†æ•° {d} å¯¹åº”ç­‰çº§ï¼š{s}\n", .{score, grade});
    
    // å­—ç¬¦åŒ¹é…
    const char = 'B';
    const char_type = switch (char) {
        'a'...'z' => "å°å†™å­—æ¯",
        'A'...'Z' => "å¤§å†™å­—æ¯",
        '0'...'9' => "æ•°å­—",
        ' ', '\t', '\n' => "ç©ºç™½å­—ç¬¦",
        else => "å…¶ä»–å­—ç¬¦",
    };
    
    std.debug.print("å­—ç¬¦ '{c}' æ˜¯ï¼š{s}\n", .{char, char_type});
}
```

### æšä¸¾ä¸ switchï¼šå®Œç¾æ­é…

```zig
const std = @import("std");

// å®šä¹‰ä¸€ä¸ªæšä¸¾
const Weather = enum {
    sunny,
    rainy,
    cloudy,
    snowy,
    windy,
};

pub fn main() !void {
    const today = Weather.rainy;
    
    // switch ä¸æšä¸¾çš„å®Œç¾ç»“åˆ
    const activity = switch (today) {
        .sunny => "å»å…¬å›­æ•£æ­¥",
        .rainy => "åœ¨å®¶çœ‹ä¹¦",
        .cloudy => "å»å’–å•¡å…åå",
        .snowy => "å †é›ªäºº",
        .windy => "æ”¾é£ç­",
        // æ³¨æ„ï¼šä¸éœ€è¦ elseï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»è¦†ç›–äº†æ‰€æœ‰æšä¸¾å€¼
    };
    
    std.debug.print("ä»Šå¤©å¤©æ°”ï¼š{s}ï¼Œé€‚åˆï¼š{s}\n", .{@tagName(today), activity});
    
    // æ›´å¤æ‚çš„ switch è¡¨è¾¾å¼
    const preparation = switch (today) {
        .sunny => blk: {
            std.debug.print("å‡†å¤‡é˜²æ™’éœœå’Œå¤ªé˜³é•œ\n", .{});
            break :blk "é˜²æ™’ç”¨å“";
        },
        .rainy => blk: {
            std.debug.print("åˆ«å¿˜äº†å¸¦é›¨ä¼\n", .{});
            break :blk "é›¨å…·";
        },
        .snowy => blk: {
            std.debug.print("ç©¿åšä¸€ç‚¹ï¼Œæˆ´æ‰‹å¥—\n", .{});
            break :blk "ä¿æš–ç”¨å“";
        },
        else => "æ™®é€šå¤–å¥—",
    };
    
    std.debug.print("éœ€è¦å‡†å¤‡ï¼š{s}\n", .{preparation});
}
```

### switch çš„é«˜çº§ç‰¹æ€§

```zig
const std = @import("std");

pub fn main() !void {
    // ä½¿ç”¨ switch å¤„ç†å¯é€‰å€¼
    const maybe_number: ?i32 = 42;
    
    switch (maybe_number) {
        null => std.debug.print("æ²¡æœ‰å€¼\n", .{}),
        else => |value| std.debug.print("å€¼æ˜¯ï¼š{d}\n", .{value}),
    }
    
    // ä½¿ç”¨ switch å¤„ç†è”åˆç±»å‹
    const Value = union(enum) {
        integer: i32,
        float: f64,
        string: []const u8,
        boolean: bool,
    };
    
    const my_value = Value{ .string = "Hello Zig!" };
    
    switch (my_value) {
        .integer => |int_val| std.debug.print("æ•´æ•°ï¼š{d}\n", .{int_val}),
        .float => |float_val| std.debug.print("æµ®ç‚¹æ•°ï¼š{d}\n", .{float_val}),
        .string => |str_val| std.debug.print("å­—ç¬¦ä¸²ï¼š{s}\n", .{str_val}),
        .boolean => |bool_val| std.debug.print("å¸ƒå°”å€¼ï¼š{}\n", .{bool_val}),
    }
}
```

## æ€§èƒ½è€ƒè™‘å’Œæœ€ä½³å®è·µ

### 1. é€‰æ‹©åˆé€‚çš„å¾ªç¯ç±»å‹

```zig
const std = @import("std");

pub fn main() !void {
    const numbers = [_]i32{ 1, 2, 3, 4, 5 };
    
    // âœ… æ¨èï¼šä½¿ç”¨ for å¾ªç¯éå†å·²çŸ¥å¤§å°çš„é›†åˆ
    var sum1: i32 = 0;
    for (numbers) |num| {
        sum1 += num;
    }
    
    // âŒ ä¸æ¨èï¼šç”¨ while å¾ªç¯éå†æ•°ç»„ï¼ˆå®¹æ˜“å‡ºé”™ï¼Œæ€§èƒ½å¯èƒ½è¾ƒå·®ï¼‰
    var sum2: i32 = 0;
    var i: usize = 0;
    while (i < numbers.len) : (i += 1) {
        sum2 += numbers[i];
    }
    
    std.debug.print("for å¾ªç¯ç»“æœï¼š{d}\n", .{sum1});
    std.debug.print("while å¾ªç¯ç»“æœï¼š{d}\n", .{sum2});
}
```

### 2. åˆ©ç”¨ç¼–è¯‘æ—¶ä¼˜åŒ–

```zig
const std = @import("std");

pub fn main() !void {
    // ç¼–è¯‘æ—¶å·²çŸ¥çš„å€¼ï¼Œswitch ä¼šè¢«ä¼˜åŒ–
    const compile_time_value = 2;
    const result = switch (compile_time_value) {
        1 => "one",
        2 => "two", // ç¼–è¯‘å™¨çŸ¥é“ä¼šé€‰æ‹©è¿™ä¸ªåˆ†æ”¯
        3 => "three",
        else => "other",
    };
    
    std.debug.print("ç»“æœï¼š{s}\n", .{result});
    
    // å¯¹äºè¿è¡Œæ—¶å€¼ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆè·³è½¬è¡¨æˆ–å…¶ä»–ä¼˜åŒ–ç»“æ„
    var runtime_value: u32 = 2;
    _ = &runtime_value; // é˜²æ­¢ç¼–è¯‘å™¨ä¼˜åŒ–æ‰è¿™ä¸ªå˜é‡
    
    const runtime_result = switch (runtime_value) {
        1 => "one",
        2 => "two",
        3 => "three",
        else => "other",
    };
    
    std.debug.print("è¿è¡Œæ—¶ç»“æœï¼š{s}\n", .{runtime_result});
}
```

### 3. é¿å…æ·±å±‚åµŒå¥—

```zig
const std = @import("std");

pub fn main() !void {
    const user_input = "admin";
    const password = "123456";
    const is_weekend = true;
    
    // âŒ é¿å…ï¼šæ·±å±‚åµŒå¥—éš¾ä»¥é˜…è¯»
    // if (user_input.len > 0) {
    //     if (std.mem.eql(u8, user_input, "admin")) {
    //         if (password.len >= 6) {
    //             if (is_weekend) {
    //                 std.debug.print("å‘¨æœ«ç®¡ç†å‘˜ç™»å½•æˆåŠŸ\n", .{});
    //             }
    //         }
    //     }
    // }
    
    // âœ… æ¨èï¼šä½¿ç”¨æ—©æœŸè¿”å›æˆ–é€»è¾‘è¿ç®—ç¬¦
    if (user_input.len == 0) {
        std.debug.print("ç”¨æˆ·åä¸èƒ½ä¸ºç©º\n", .{});
        return;
    }
    
    if (!std.mem.eql(u8, user_input, "admin")) {
        std.debug.print("ç”¨æˆ·åé”™è¯¯\n", .{});
        return;
    }
    
    if (password.len < 6) {
        std.debug.print("å¯†ç å¤ªçŸ­\n", .{});
        return;
    }
    
    if (is_weekend) {
        std.debug.print("å‘¨æœ«ç®¡ç†å‘˜ç™»å½•æˆåŠŸ\n", .{});
    } else {
        std.debug.print("å·¥ä½œæ—¥ç®¡ç†å‘˜ç™»å½•æˆåŠŸ\n", .{});
    }
}
```

## ä¸å…¶ä»–è¯­è¨€çš„å¯¹æ¯”

### Zig vs C/C++
- **è¡¨è¾¾å¼ç‰¹æ€§**ï¼šZig çš„ `if` å’Œ `switch` éƒ½æ˜¯è¡¨è¾¾å¼ï¼Œå¯ä»¥ç›´æ¥èµ‹å€¼ï¼Œè€Œ C/C++ éœ€è¦ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦æˆ–å‡½æ•°
- **å®‰å…¨æ€§**ï¼šZig çš„ `switch` å¿…é¡»ç©·å°½æ‰€æœ‰æƒ…å†µï¼ŒC/C++ çš„ switch å¯èƒ½é—æ¼ case
- **è¯­æ³•ç®€æ´**ï¼šZig çš„ `for` å¾ªç¯è¯­æ³•æ›´ç®€æ´ï¼Œä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†ç´¢å¼•

### Zig vs Rust
- **ç›¸ä¼¼æ€§**ï¼šéƒ½æœ‰è¡¨è¾¾å¼ç‰¹æ€§ï¼Œéƒ½è¦æ±‚ `match`/`switch` ç©·å°½
- **å·®å¼‚**ï¼šZig çš„è¯­æ³•æ›´ç®€æ´ï¼ŒRust çš„æ¨¡å¼åŒ¹é…æ›´å¼ºå¤§
- **æ€§èƒ½**ï¼šä¸¤è€…éƒ½èƒ½ç”Ÿæˆé«˜æ•ˆçš„æœºå™¨ç 

### Zig vs Go
- **è¡¨è¾¾å¼**ï¼šZig æ”¯æŒè¡¨è¾¾å¼ï¼ŒGo ä¸æ”¯æŒ
- **switch**ï¼šZig è¦æ±‚ç©·å°½ï¼ŒGo ä¸è¦æ±‚
- **å¾ªç¯**ï¼šZig æœ‰å¤šç§å¾ªç¯ç±»å‹ï¼ŒGo åªæœ‰ `for`

## æ€»ç»“

Zig çš„æ§åˆ¶æµè®¾è®¡ä½“ç°äº†å…¶"ç®€å•è€Œå¼ºå¤§"çš„å“²å­¦ï¼š

- **`if` è¡¨è¾¾å¼**ï¼šæ—¢èƒ½æ§åˆ¶æµç¨‹ï¼Œåˆèƒ½äº§ç”Ÿå€¼ï¼Œè®©ä»£ç æ›´ç®€æ´
- **`while` å¾ªç¯**ï¼šé€‚åˆæ¡ä»¶é©±åŠ¨çš„é‡å¤æ“ä½œï¼Œæ”¯æŒ `else` åˆ†æ”¯å¤„ç†æ­£å¸¸ç»“æŸæƒ…å†µ
- **`for` å¾ªç¯**ï¼šä¸“é—¨ç”¨äºéå†é›†åˆï¼Œè¯­æ³•ç®€æ´ï¼Œæ€§èƒ½ä¼˜ç§€
- **`switch` è¡¨è¾¾å¼**ï¼šå¼ºå¤§çš„æ¨¡å¼åŒ¹é…å·¥å…·ï¼Œå¿…é¡»ç©·å°½æ‰€æœ‰æƒ…å†µï¼Œä¿è¯ä»£ç å®‰å…¨

æŒæ¡è¿™äº›æ§åˆ¶æµç»“æ„ï¼Œä½ å°±èƒ½ç¼–å†™å‡ºæ—¢é«˜æ•ˆåˆå®‰å…¨çš„ Zig ç¨‹åºã€‚è®°ä½ï¼Œåœ¨ Zig ä¸­ï¼Œç®€æ´ä¸æ„å‘³ç€åŠŸèƒ½å¼±ï¼Œè€Œæ˜¯è®¾è®¡å¾—æ›´åŠ ä¼˜é›…ï¼
