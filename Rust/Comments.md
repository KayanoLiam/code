# 注释 (Comments)
聊聊 Rust 里的**注释 (Comments)**，也就是你在代码里写的“悄悄话”或“笔记”。

**注释是干嘛的？**

写代码的目标之一是让别人（包括未来的你自己）容易看懂。但有时候，光看代码本身可能不足以完全理解某段逻辑的**意图**、**原因**或者一些**特别需要注意**的地方。这时候，就需要写注释来补充说明。

注释是**写给人看的**，Rust 编译器在编译代码时会**完全忽略**它们，它们不会影响程序的运行。

**Rust 里怎么写注释？**

最常用、也是 Rust 推荐的注释方式是使用**两个斜杠 `//`**。

*   **单行注释:** 从 `//` 开始，一直到这一行的**末尾**，都属于注释内容。

    ```rust
    // 这是一个简单的注释，解释下面的代码是干嘛的。
    let price = 99.9; // 计算价格

    // 你也可以把注释放在代码行的末尾，虽然不太常见
    let quantity = 10; // 买了 10 个
    ```

*   **多行注释:** 如果你的注释比较长，需要写好几行，你需要在**每一行的开头**都加上 `//`。

    ```rust
    // 这段代码的逻辑有点绕，我得好好解释一下：
    // 首先，我们从用户那里获取输入。
    // 然后，我们需要验证输入的格式是否正确。
    // 如果格式不对，要给用户一个友好的提示。
    // （这里的省略号代表实际的代码）
    // ... complicated code goes here ...
    ```

**注释应该写什么？怎么写？**

*   **解释“为什么”，而不是“干什么”:** 好的代码本身应该能说明它在“干什么”（比如 `calculate_total_price(items)` 很明显是计算总价）。注释更应该用来解释“**为什么**”要这么做（比如 “// 这里用快速排序，因为预期数据量不大，且实现简单”），或者解释一些不那么明显的逻辑、背景知识、或者潜在的坑。
*   **保持简洁明了:** 注释是帮助理解的，不是写小说。尽量用简洁的语言把意思表达清楚。
*   **保持更新:** 最糟糕的注释是**过时的、错误的**注释！如果你修改了代码的逻辑，一定要记得**同时更新**相关的注释，否则它会误导别人。
*   **不要过度注释:** 不要给每一行显而易见的代​​码都加上注释，比如：
    ```rust
    // 把 x 的值加 1
    x = x + 1; // <-- 这种注释就没必要
    ```
    这会让代码显得很啰嗦。

**另一种注释：文档注释 (Documentation Comments)**

Rust 还有一种特殊的注释，叫做**文档注释**，通常用三个斜杠 `///` 或者 `//!` 开头。这种注释是专门用来**生成代码文档**的。你可以给你的函数、结构体、模块等写文档注释，然后用 `cargo doc` 命令自动生成漂亮的 HTML 文档。

这个我们现在暂时不用深入了解，后面的章节（第 14 章）会详细讲怎么写文档注释以及怎么发布你的库。

**总结一下普通注释：**

*   用 `//` 开始，持续到行尾。
*   编译器会忽略它们。
*   写给人看的，用来解释代码的“为什么”或者复杂逻辑。
*   保持简洁、准确，并随着代码的修改而更新。

注释是写出可维护、易于理解的代码的重要工具之一！